<!DOCTYPE html>

<html>
<head>
	<title>Registro de usuarios</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
	<h1>Registro de usuarios</h1>
	{% if mensaje %}
		<p>{{ mensaje }}</p>
	{% endif %}
	<form method="POST" action="/insertar">
		<label for="nombre">Nombre:</label>
		<input type="text" id="nombre" name="nombre" required><br><br>

		<label for="email">Email:</label>
		<input type="email" id="email" name="email" required><br><br>

		<label for="contrasena">Contraseña:</label>
		<input type="password" id="contrasena" name="contrasena" required><br><br>

		<input type="submit" value="Registrar">
	</form>

	<hr>
	<head>
		<title>Eliminar Usuario</title>
	  </head>
	  <body>
		<h1>Eliminar Usuario</h1>
		<form method="post" action="/eliminar_usuario">
		  <label for="id_a_eliminar">ID del usuario a eliminar:</label>
		  <input type="text" id="id_a_eliminar" name="id_a_eliminar">
		  <input type="submit" value="Eliminar">
		</form>
	  </body> 
	<hr>
	<h1>Actualizar Usuario</h1>
	<form action="/actualizar_usuario" method="POST">
		<label>ID del Usuario:</label>
		<input type="text" name="id" required><br><br>
		<label>Nombre:</label>
		<input type="text" name="nombre" required><br><br>
		<label>Email:</label>
		<input type="email" name="email" required><br><br>
		<label>Contraseña:</label>
		<input type="password" name="contrasena" required><br><br>
		<input type="submit" value="Actualizar">
	</form>
	<hr>
	<form action="/listar" method="get">

        <input type="submit" value="Refrescar Tabla">
    </form>
	<div class="container">
		<table class="table">
			<thead>
			  <tr>
				<th scope="col">#</th>
				<th scope="col">First</th>
				<th scope="col">Last</th>
				<th scope="col">Handle</th>
			  </tr>
			</thead>
			<tbody>
			  <tr>
				<th scope="row">1</th>
				<td>Mark</td>
				<td>Otto</td>
				<td>@mdo</td>
			  </tr>
			  <tr>
				<th scope="row">2</th>
				<td>Jacob</td>
				<td>Thornton</td>
				<td>@fat</td>
			  </tr>
			  <tr>
				<th scope="row">3</th>
				<td colspan="2">Larry the Bird</td>
				<td>@twitter</td>
			  </tr>
			</tbody>
		  </table>
	</div>
	<table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Email</th>
                <th>Contraseña</th>
            </tr>
        </thead>
        <tbody>
            {% for row in usuarios %}
                <tr>
                    <td>{{ row[0] }}</td>
                    <td>{{ row[1] }}</td>
                    <td>{{ row[2] }}</td>
                    <td>{{ row[3] }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
